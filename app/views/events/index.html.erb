<%= flash[:error] ? flash[:error] : nil %>

<h1>Index</h1>
<% if !user_signed_in? %>
    <%= link_to 'Sign In', new_user_session_path %>
<% else %>
    <p>Logged in as: <%= current_user[:username] %></p>
    <%= link_to 'Log Out', destroy_user_session_path, data: {turbo_method: :delete} %>
<% end %>
<br>
<%= link_to 'Create New Event', new_event_path %>
<div id='content'>
    <div id='users'>
        <h2>Users:</h2>
        <% if @users.empty? %>
            <p>No users.</p>
        <% else %>
            <ul>
                <% @users.each do |user| %>
                    <li><%= link_to user[:username], user_path(user) %></li>
                <% end %>
            </ul>
        <% end %>
    </div>
    <div id='events'>
        <h2>Events:</h2>
        <% if @events.empty? %>
            <p>No events.</p>
        <% else %>
            <ul>
                <% @events.each do |event| %>
                    <li><%= link_to event[:event_name], event_path(event) %></li>
                <% end %>
            </ul>
        <% end %>
    </div>
</div>
